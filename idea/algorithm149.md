## 149. Max Points on a Line

**题目 :**

Given *n* points on a 2D plane, find the maximum number of points that lie on the same straight line.

**题意 :**

现有一个二维平面，平面上分布着一些点，请找出在一条直线上分布的最多的点数。

**思路 :**

有点就有线，因此很容易想到利用直线方程，我们都知道直线的斜截式是`y = kx+b`，其中`k`为斜率，`b`为截距。如果两条直线的斜率和截距都相等，那么它们就是一条直线。这里有两个坑：

- 如果你把`C(2,n)`条直线的斜率先算出来，然后比较截距的话，便会发现计算截距非常麻烦。
- 斜率根本就不要算出来，只要计算浮点数就存在损失精度的问题，用例中特意设计了由于精度损失导致两条线的斜率不同的用例。

因此，最好的方法是，不要一口气将所有直线斜率算出，固定一个点，计算从这一点出发与其后面的点组成的所有直线斜率，这时不存在平行线，因此不用比较截距。并且要用分数来保存斜率，注意分子分母要除以最大公约数。

另外还需要考虑重叠的点和构成一条水平线、垂直线的情况。